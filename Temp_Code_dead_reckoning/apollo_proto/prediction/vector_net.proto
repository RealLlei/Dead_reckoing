syntax = "proto2";

package apollo.prediction;

import "apollo_proto/common/geometry.proto";
import "apollo_proto/map/map_lane.proto";

message Goal2D{
  optional apollo.common.Point3D position = 1;
  optional apollo.common.Point3D velocity = 2;
  optional int32 lane_sequence_idx = 3;
  optional double lane_sequence_s = 4;
  optional double lane_sequence_l = 5;
  optional double relative_time = 6;
  optional double probability = 7;
}

message Vector{
  optional apollo.common.Point3D start = 1;
  optional apollo.common.Point3D end = 2;
  repeated double feature = 3;
}

message Polyline {
  repeated Vector vector = 1;
  optional double obs_id = 2;
  optional string lane_id = 3;
  optional apollo.hdmap.Lane.LaneType lane_type = 4;
}

message Relation {
  optional string polyline1_id = 1;
  optional string polyline2_id = 2;
  // optional apollo.common.Point3D point1 = 3;
}

message VectorNetFeature {
  optional apollo.common.Point3D center = 1;
  optional double theta = 2;
  repeated Polyline agents_polyline = 3;
  repeated Polyline map_polyline = 4;
  repeated Relation connection = 5;
  repeated string routing_lane_id = 6;
}
